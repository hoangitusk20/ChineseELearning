<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Pinyin TTS (Chinese)</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 2rem;
      max-width: 600px;
    }
    textarea {
      width: 100%;
      height: 100px;
      font-size: 1.2rem;
      padding: 0.5rem;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>üó£Ô∏è ƒê·ªçc ch·ªØ H√°n b·∫±ng gi·ªçng ti·∫øng Trung</h2>
  <textarea id="textInput" placeholder="Nh·∫≠p vƒÉn b·∫£n ti·∫øng Trung, v√≠ d·ª•: ‰Ω†Â•ΩÔºå‰ªäÂ§©‰Ω†Â•ΩÂêóÔºü"></textarea>
  <br>
  <button onclick="speak()">ƒê·ªçc</button>

  <script>
    function speak() {
      const text = document.getElementById('textInput').value.trim();
      if (!text) {
        alert("Vui l√≤ng nh·∫≠p ch·ªØ H√°n!");
        return;
      }

      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "zh-CN";
      utterance.rate = 1;      // t·ªëc ƒë·ªô ƒë·ªçc
      utterance.pitch = 1;     // cao ƒë·ªô
      utterance.volume = 1;    // √¢m l∆∞·ª£ng

      // (tu·ª≥ ch·ªçn) ch·ªçn gi·ªçng zh-CN n·∫øu c√≥ nhi·ªÅu gi·ªçng
      const voices = speechSynthesis.getVoices();
      const chineseVoice = voices.find(v => v.lang === "zh-CN" || v.lang.startsWith("zh"));
      if (chineseVoice) {
        utterance.voice = chineseVoice;
      }

      speechSynthesis.cancel(); // d·ª´ng gi·ªçng ƒëang ƒë·ªçc n·∫øu c√≥
      speechSynthesis.speak(utterance);
    }

    // T·∫£i gi·ªçng s·∫µn n·∫øu tr√¨nh duy·ªát ch∆∞a load voice ngay
    window.speechSynthesis.onvoiceschanged = () => {};
  </script>
</body>
</html>
